<!-- templates/search_results.html -->
{% extends "home.html" %}

{% block content %}
<div class="search-results-container">
    <h1>Search Results</h1>

    <!-- Large search bar for the search page -->
    <form action="{{ url_for('search') }}" method="get" class="search-form">
        <input type="text" name="search_term" placeholder="Search..." size="30">
        <button type="submit" class="search-button">Search</button>
    </form>

    {% if results and results|length > 0 %}
    <ul class="results-list">
        {% for item in results %}
        <li class="result-item">
            <div class="soap-info">
                <img src="{{ item[6] }}" alt="{{ item[1] }}" class="item-image">
                <h2>{{ item[1] }}</h2> <!-- Soap name -->
                <p class="description">{{ item[2] }}</p> <!-- Soap description -->
                <p class="price">Price: ${{ item[4] }}</p> <!-- Soap price -->
            </div>
            <!-- Flash Messages for Errors or Other Notifications -->
            {% with messages = get_flashed_messages() %}
            {% if messages %}
            <ul class="flash-messages">
                {% for message in messages %}
                <li>{{ message }}</li>
                {% endfor %}
            </ul>
            {% endif %}
            {% endwith %}
            <a href="{{ url_for('add_to_cart', soapid=item[0]) }}" class="add-to-cart">Add to Cart</a>
            <!-- Use soapid for adding to cart -->
            <hr>
        </li>
        {% endfor %}
    </ul>
    {% else %}
    <p class="no-results">No results found</p> <!-- If no results, show this message -->
    {% endif %}

    <!-- Link back to home -->
    <a href="{{ url_for('home') }}" class="back-to-home">Back to Home</a> <!-- Navigation back to home -->
</div>
{% endblock %}